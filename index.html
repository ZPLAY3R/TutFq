<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Influence Mod - Complete Tutorials & FAQ Guide</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=MedievalSharp&family=Roboto:wght@300;400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: #E8D8B6;
            background: linear-gradient(135deg, #231906 0%, #3E3018 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(to bottom, #3E3018, #5C4B28);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 2px solid #8C5F2C;
        }
        
        header {
            background: linear-gradient(135deg, #3F2506 0%, #5C4B28 100%);
            color: white;
            padding: 0;
            text-align: center;
            position: relative;
            border-bottom: 8px solid #8C5F2C;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .header-banner {
            width: 100%;
            height: 400px;
            object-fit: cover;
            display: block;
        }
        
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(35, 25, 6, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 40px;
        }
        
        .header-content h1 {
            font-family: 'MedievalSharp', cursive;
            font-size: 3.5em;
            margin-bottom: 10px;
            text-shadow: 3px 3px 5px rgba(0,0,0,0.3);
            color: #E8D8B6;
        }
        
        .header-content .subtitle {
            font-size: 1.5em;
            opacity: 0.9;
            font-weight: 300;
            color: #E8D8B6;
        }
        
        .badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #8C5F2C;
            color: #231906;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            z-index: 10;
        }
        
        .language-switcher {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .lang-btn {
            background: rgba(140, 95, 44, 0.3);
            color: #E8D8B6;
            border: 2px solid #8C5F2C;
            padding: 5px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .lang-btn:hover {
            background: rgba(140, 95, 44, 0.5);
        }
        
        .lang-btn.active {
            background: #8C5F2C;
            color: #231906;
            border-color: #E8D8B6;
        }
        
        .divider {
            height: 4px;
            background: linear-gradient(90deg, #3F2506, #8C5F2C, #3F2506);
            margin: 10px 0;
        }
        
        .section {
            padding: 30px 40px;
            border-bottom: 1px solid rgba(140, 95, 44, 0.3);
            background: rgba(62, 48, 24, 0.5);
        }
        
        .section:nth-child(even) {
            background: rgba(63, 37, 6, 0.3);
        }
        
        .section-title {
            font-family: 'MedievalSharp', cursive;
            font-size: 2.2em;
            color: #E8D8B6;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 3px solid #8C5F2C;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .section-title::before {
            content: '';
            width: 10px;
            height: 40px;
            background: #8C5F2C;
            border-radius: 2px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: rgba(63, 37, 6, 0.5);
            border-radius: 10px;
            padding: 25px;
            border-left: 5px solid #8C5F2C;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(140, 95, 44, 0.3);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
            background: rgba(63, 37, 6, 0.7);
        }
        
        .feature-card h3 {
            color: #E8D8B6;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tutorial-card {
            background: rgba(63, 37, 6, 0.5);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #8C5F2C;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 1px solid rgba(140, 95, 44, 0.3);
        }
        
        .tutorial-card h3 {
            color: #E8D8B6;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step {
            margin: 20px 0;
            padding-left: 25px;
            position: relative;
            color: #E8D8B6;
        }
        
        .step::before {
            content: 'üìå';
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .code-block {
            background: rgba(44, 62, 80, 0.8);
            color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            border-left: 4px solid #8C5F2C;
        }
        
        .faq-item {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(63, 37, 6, 0.5);
            border-radius: 10px;
            border-left: 5px solid #8C5F2C;
            border: 1px solid rgba(140, 95, 44, 0.3);
        }
        
        .faq-question {
            font-weight: bold;
            color: #E8D8B6;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .faq-answer {
            color: #E8D8B6;
        }
        
        .icon {
            font-size: 1.8em;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        .quote {
            background: rgba(63, 37, 6, 0.7);
            border-left: 5px solid #8C5F2C;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            font-style: italic;
            color: #E8D8B6;
        }
        
        .warning {
            background: rgba(255, 195, 0, 0.2);
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            color: #E8D8B6;
        }
        
        .warning strong {
            color: #ffcccb;
        }
        
        .success {
            background: rgba(40, 167, 69, 0.2);
            border-left: 5px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            color: #E8D8B6;
        }
        
        footer {
            background: linear-gradient(135deg, #3F2506 0%, #231906 100%);
            color: #E8D8B6;
            padding: 30px;
            text-align: center;
            border-top: 8px solid #8C5F2C;
        }
        
        .download-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .download-btn {
            display: inline-block;
            padding: 12px 25px;
            background: #8C5F2C;
            color: #231906;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
            border: 2px solid #E8D8B6;
        }
        
        .download-btn:hover {
            background: #5C4B28;
            color: #E8D8B6;
            border-color: #8C5F2C;
        }
        
        .discord-link {
            background: #5C4B28;
            color: #E8D8B6;
        }
        
        .discord-link:hover {
            background: #3E3018;
            color: #E8D8B6;
            border-color: #8C5F2C;
        }
        
        .nexus-link {
            background: #3E3018;
            color: #E8D8B6;
        }
        
        .nexus-link:hover {
            background: #231906;
            color: #E8D8B6;
            border-color: #8C5F2C;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
                border: none;
            }
            .download-btn {
                display: none;
            }
            .language-switcher {
                display: none;
            }
        }
        
        .page-break {
            page-break-before: always;
        }
        
        .watermark {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 120px;
            opacity: 0.03;
            color: #8C5F2C;
            pointer-events: none;
            font-family: 'MedievalSharp', cursive;
            white-space: nowrap;
            z-index: -1;
        }
        
        .toc {
            background: rgba(63, 37, 6, 0.5);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #8C5F2C;
        }
        
        .toc h3 {
            color: #E8D8B6;
            margin-bottom: 15px;
            font-family: 'MedievalSharp', cursive;
        }
        
        .toc ul {
            list-style: none;
            padding-left: 20px;
        }
        
        .toc li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
            color: #E8D8B6;
        }
        
        .toc li::before {
            content: '‚öîÔ∏è';
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .toc a {
            color: #E8D8B6;
            text-decoration: none;
            font-weight: 500;
        }
        
        .toc a:hover {
            color: #8C5F2C;
            text-decoration: underline;
        }
        
        ul, ol {
            color: #E8D8B6;
            padding-left: 20px;
            margin: 10px 0;
        }
        
        li {
            margin-bottom: 8px;
            color: #E8D8B6;
        }
        
        strong {
            color: #E8D8B6;
        }
        
        a {
            color: #8C5F2C;
        }
        
        a:hover {
            color: #E8D8B6;
        }
        
        /* Warning box stilius i≈° kito failo */
        .warning-box {
            background: rgba(140, 44, 44, 0.7);
            border: 3px solid #ff6b6b;
            padding: 20px;
            margin: 20px 40px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1em;
            color: #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .warning-box strong {
            color: #ffcccb;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="watermark">AI TUTORIALS</div>
    
    <div class="container">
        <header>
            <img src="https://i.postimg.cc/vTsNJScj/Chat-GPT-Image-28-2025-13-03-01.png" alt="AI Influence Mod Banner" class="header-banner">
            <div class="header-overlay">
                <div class="language-switcher">
                    <button class="lang-btn active" onclick="changeLanguage('en')">EN</button>
                    <button class="lang-btn" onclick="changeLanguage('ru')">RU</button>
                </div>
                
                <div class="header-content">
                    <h1>AI INFLUENCE TUTORIALS</h1>
                    <p class="subtitle">Mount & Blade II: Bannerlord ‚Äî Complete Tutorials & FAQ Compendium</p>
                    <p>Master the AI Influence Mod ‚Ä¢ From Beginner to Advanced Roleplay</p>
                </div>
                <div class="badge">v3.3.7 ‚Ä¢ Updated: January 2026</div>
            </div>
        </header>
        
        <!-- Warning Box -->
        <div class="warning-box">
            <strong>‚ö†Ô∏è IMPORTANT WARNING:</strong> AI Influence is designed to work with Vanilla Mount & Blade II: Bannerlord.
            If you experience crashes or issues, these are likely caused by compatibility problems with other mods. We do NOT provide support for mod compatibility issues - this is the user's responsibility.
        </div>
        
        <!-- Table of Contents -->
        <div class="section">
            <h2 class="section-title">üìö Table of Contents</h2>
            <div class="toc">
                <h3>Quick Navigation</h3>
                <ul>
                    <li><a href="#installation">Installation Guide</a></li>
                    <li><a href="#free-local-ai">Free Local AI - Player2 Setup</a></li>
                    <li><a href="#deepseek-api">DeepSeek API Setup</a></li>
                    <li><a href="#faq">Frequently Asked Questions</a></li>
                    <li><a href="#troubleshooting">Troubleshooting Guide</a></li>
                    <li><a href="#asterisk-rp">Asterisk Roleplay Guide</a></li>
                    <li><a href="#multi-npc">Multiple NPC Conversations</a></li>
                    <li><a href="#chatsync">ChatSync Submod</a></li>
                    <li><a href="#tts-guide">Text-to-Speech (TTS) Guide</a></li>
                    <li><a href="#rollback-ai">Rollback AI Actions</a></li>
                    <li><a href="#json-editing">Editing NPC .JSON Files</a></li>
                    <li><a href="#diplomacy">Diplomacy System Guide</a></li>
                    <li><a href="#action-rules">NPC Action System & Rules</a></li>
                    <li><a href="#technical-guide">Technical Guide & File Structure</a></li>
                </ul>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <!-- Installation Guide -->
        <div class="section" id="installation">
            <h2 class="section-title"><span class="icon">üì¶</span> Installation Guide</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">‚öôÔ∏è</span> How to Install AI Influence</h3>
                
                <div class="step">
                    <strong>Step 1: Download Latest Version</strong>
                    <p>Get the mod from:</p>
                    <ul>
                        <li><strong>Discord for all news:</strong> <a href="https://discord.gg/dQMGBuWCQV" target="_blank">Discord</a></li>
                        <li><strong>Steam Workshop:</strong> <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3584621421" target="_blank">Steam Link</a></li>
                        <li><strong>Nexus:</strong> <a href="https://www.nexusmods.com/mountandblade2bannerlord/mods/9711" target="_blank">Nexus Link</a></li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Step 2: Extract to Modules Folder</strong>
                    <div class="code-block">
Mount & Blade II Bannerlord/Modules
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 3: Required Dependencies</strong>
                    <ul>
                        <li>Harmony</li>
                        <li>ButterLib</li>
                        <li>UIExtenderEx</li>
                        <li>Mod Configuration Menu (MCM)</li>
                    </ul>
                    <div class="warning">
                        <strong>‚ö†Ô∏è These mods must be ABOVE AIInfluence in load order!</strong>
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 4: Load Order Example</strong>
                    <div class="code-block">
1) Harmony
2) ButterLib
3) UIExtenderEx
4) MCM
5) AIInfluence ‚úÖ
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 5: Supported Versions</strong>
                    <p>Bannerlord 1.3.9 - 1.3.13</p>
                </div>
            </div>
            
            <div class="tutorial-card" id="free-local-ai">
                <h3><span class="icon">üÜì</span> Free Local AI - Player2 Setup</h3>
                
                <div class="step">
                    <strong>1. Download Player2:</strong>
                    <p><a href="https://player2.game/" target="_blank">https://player2.game/</a></p>
                </div>
                
                <div class="step">
                    <strong>2. Run Player2.exe:</strong>
                    <p>Local server starts automatically at: <code>http://localhost:4315/</code></p>
                </div>
                
                <div class="step">
                    <strong>3. Configure in Bannerlord:</strong>
                    <p>MCM ‚Üí AIInfluence ‚Üí Settings:</p>
                    <ul>
                        <li>AI Backend: Player2</li>
                        <li>URL: <code>http://localhost:4315/</code></li>
                        <li>API Key: leave empty ‚úÖ</li>
                    </ul>
                </div>
            </div>
            
            <div class="tutorial-card">
                <h3><span class="icon">üåê</span> Other Supported AI Providers</h3>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3><span class="icon">‚≠ê</span> OpenRouter</h3>
                        <p>GPT-4, Claude, Gemini, etc.</p>
                        <p><strong>‚úÖ Best quality, requires API key</strong></p>
                    </div>
                    
                    <div class="feature-card">
                        <h3><span class="icon">üíª</span> Ollama</h3>
                        <p>Local LLMs</p>
                        <p><strong>‚úÖ Free & offline, supports many models</strong></p>
                    </div>
                    
                    <div class="feature-card">
                        <h3><span class="icon">üñ•Ô∏è</span> KoboldCpp</h3>
                        <p>Local AI chat models</p>
                        <p><strong>‚úÖ Good for lower-end PCs</strong></p>
                    </div>
                </div>
                
                <div class="step">
                    <strong>How to Switch Models:</strong>
                    <p>MCM ‚Üí AI Backend ‚Üí Select provider ‚Üí Enter API URL and Key if required</p>
                    <p class="success"><strong>Tip:</strong> Better AI models = smarter characters</p>
                </div>
            </div>
        </div>
        
        <!-- DeepSeek API Guide -->
        <div class="section" id="deepseek-api">
            <h2 class="section-title"><span class="icon">üîå</span> DeepSeek API Setup</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üåê</span> How to Use DeepSeek API with AI Influence</h3>
                
                <div class="step">
                    <strong>Step 1: Create Account</strong>
                    <p>Go to <a href="https://platform.deepseek.com" target="_blank">platform.deepseek.com</a> and create an account.</p>
                </div>
                
                <div class="step">
                    <strong>Step 2: Top Up API Funds</strong>
                    <p>Add funds to your API account for usage.</p>
                </div>
                
                <div class="step">
                    <strong>Step 3: Generate API Key</strong>
                    <p>Navigate to API Keys section and create a new API key.</p>
                    <div class="warning">
                        <strong>Warning:</strong> Save your API key immediately as you can only view it once. Never share it with others unless you intend to.
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 4: Configure in Game</strong>
                    <p>In Bannerlord's MCM ‚Üí AI Influence settings:</p>
                    <ol>
                        <li>Select DeepSeek as AI backend</li>
                        <li>Enter your API key</li>
                        <li>Configure URL if required</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="section" id="faq">
            <h2 class="section-title"><span class="icon">‚ùì</span> Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">üìå Where should I ask questions about the mod?</div>
                <div class="faq-answer">
                    <p><strong>Answer:</strong> Check FAQ first, then use Discord for mod discussions.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">‚ö†Ô∏è What should I know about the BETA status?</div>
                <div class="faq-answer">
                    <p><strong>Answer:</strong> AIInfluence is in BETA. Bugs, weird NPC behavior, and unexpected AI actions are normal. Report issues in appropriate channels.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">‚öôÔ∏è How do I set up MCM AI Backend?</div>
                <div class="faq-answer">
                    <p><strong>Answer:</strong> MCM ‚Üí AI Backend ‚Üí Select provider (Player2, OpenRouter, etc.) ‚Üí Enter URL and API key if required ‚Üí Press "Test Connection" to validate.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">‚ù§Ô∏è What are Romance settings?</div>
                <div class="faq-answer">
                    <p><strong>Answer:</strong> MCM ‚Üí Romance (BETA) settings:</p>
                    <ul>
                        <li>Minimum romance level for marriage (default 50)</li>
                        <li>Romance with married NPCs (OFF by default)</li>
                    </ul>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">üì∞ How do Dynamic Events work?</div>
                <div class="faq-answer">
                    <p><strong>Answer:</strong> AI analyzes dialogues and creates news, rumors, and political events. These spread between NPCs and can influence alliances, trigger wars, or peace agreements. ‚ö†Ô∏è Some features are experimental.</p>
                </div>
            </div>
        </div>
        
        <!-- Troubleshooting -->
        <div class="section" id="troubleshooting">
            <h2 class="section-title"><span class="icon">üîß</span> Troubleshooting Guide</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">‚ùå</span> Mod Not Working?</h3>
                
                <div class="step">
                    <strong>Check These First:</strong>
                    <ul>
                        <li>‚úÖ Correct Bannerlord version? (1.2.12 or 1.3.1)</li>
                        <li>‚úÖ Dependencies installed? (Harmony, ButterLib, UIExtenderEx, MCM)</li>
                        <li>‚úÖ Load order correct? (Dependencies ABOVE AIInfluence)</li>
                        <li>‚úÖ Running without conflicting dialogue/diplomacy mods?</li>
                        <li>‚úÖ Try new campaign</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>AI Not Talking / No Messages?</strong>
                    <p>Check AI backend settings in MCM:</p>
                    <ul>
                        <li>‚úî AI Backend selected? (Player2, OpenRouter, etc.)</li>
                        <li>‚úî URL correct? (e.g., <code>http://localhost:4315/</code>)</li>
                        <li>‚úî Internet ON? (if using cloud AI)</li>
                        <li>‚úî API Key entered correctly? (if required)</li>
                    </ul>
                    <p class="success"><strong>‚úÖ Tip:</strong> Press "Test Connection" button in MCM!</p>
                </div>
                
                <div class="step">
                    <strong>Freezes or Low FPS?</strong>
                    <ul>
                        <li>‚ö†Ô∏è Too many initialized AI characters!</li>
                        <li>MCM ‚Üí Performance: Reduce AI character count (recommended: Around 100 active NPCs)</li>
                        <li>‚úÖ Disable heavy mods that rewrite diplomacy or economy</li>
                        <li>‚úÖ Restart Player2 / AI backend after long sessions</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Asterisk Roleplay Guide -->
        <div class="section" id="asterisk-rp">
            <h2 class="section-title"><span class="icon">‚≠ê</span> Asterisk Roleplay Guide</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üé≠</span> Using Asterisks Actions for Better Immersion</h3>
                
                <div class="step">
                    <strong>1. Purpose & Benefits:</strong>
                    <ul>
                        <li>‚úÖ Better management of situations with NPCs</li>
                        <li>‚úÖ Clarify NPC misunderstandings</li>
                        <li>‚úÖ Provide deeper immersion through extended replies</li>
                        <li>‚úÖ Increase chances of persuading NPCs</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>2. Planning Your Approach:</strong>
                    <p>Consider these factors before interacting:</p>
                    <ul>
                        <li><strong>a)</strong> What do you want from the NPC?</li>
                        <li><strong>b)</strong> What is the NPC's status (merchant, lord, noble, etc.)?</li>
                        <li><strong>c)</strong> What approach matches your character?</li>
                        <li><strong>d)</strong> What environmental details are worth describing?</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>3. Example Scenario:</strong>
                    <p><strong>Situation:</strong> You want information from Korin, a merchant in Balgard.</p>
                    <p><strong>Your Character:</strong> Wandering merchant/mercenary who served a Western Empire lord.</p>
                    
                    <div class="code-block">
"I slowly walk by the side of road. I smile gently when approaching Korin's stall, then I slowly look at his wares *Well, I see you have pretty decent offer of nice wares* I'm gently touching one of the books that are displayed at stall, then I shift my focus back to Korin *I'm interested in some specific goods, and I heard that you may be the one who could provide them for me* I smile gently, a sun is lightly shining at the whole street when I come a few steps closer to the stall *I'm very interested in some old books from the region.*"
                    </div>
                </div>
                
                <div class="step">
                    <strong>4. Correcting AI Mistakes:</strong>
                    <p>When NPCs don't believe your words, use asterisk actions to provide context:</p>
                    <div class="code-block">
"I nod gently then repeat myself *The words I have spoken are the honest truth, if you don't want to believe me, maybe you should ask your advisors* I slowly turn my head to the advisors of the king, and watch with smile on my face when they agree with my words *Now you see, that I did not lie to you.*"
                    </div>
                </div>
                
                <div class="step">
                    <strong>5. Getting Longer Replies:</strong>
                    <p>Configure in MCM settings:</p>
                    <ol>
                        <li>Set maximum characters to highest value</li>
                        <li>Set minimum response to at least 150 characters</li>
                    </ol>
                </div>
                
                <div class="step">
                    <strong>6. Advanced Roleplay Tips:</strong>
                    <ul>
                        <li><strong>Use extended descriptions:</strong> "I walk slowly, the setting sun on horizon slowly reflects on my shining armor as I walk towards my soldiers"</li>
                        <li><strong>Express emotions:</strong> "I just slowly pass by, not even considering his presence, my eyes are little wet from crying"</li>
                        <li><strong>Act like a real person would!</strong></li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>7. Full Conversation Example:</strong>
                    <div class="code-block">
Player: *stops the procession of my leper knights, seeing the imperial banners in the distance. We step off the road, our armor slowly crunching as we move. I turn to Ragaea* Greetings, Empress, it is an honor to meet you on the road *I nod slightly with my deer-antlered helmet* I am Oskar of the Leper Knights.

Ragaea: *I raise my hand in greeting, slightly bowing my head, which causes the heavy jeweled crown to gently shift in my hair. My scale armor clinks softly as I move* Greetings, Oskar. I saw your banners on the road. Leper Knights... I have heard tales of your service to travelers. It is a noble occupation in these troubled times. *My eyes survey your group, assessing their discipline and weaponry* What brings you to this region? The road to Lartuzys is not the safest, especially when The Aseraeans are tearing at our southern borders.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Multiple NPC Conversations -->
        <div class="section" id="multi-npc">
            <h2 class="section-title"><span class="icon">üë•</span> Multiple NPC Conversations</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üîÑ</span> Dual-Conversation Format Tutorial</h3>
                
                <div class="step">
                    <strong>1. What This Tutorial Covers:</strong>
                    <p>This tutorial explains how to enable conversations with multiple NPCs simultaneously, a feature not natively supported by the mod but possible through custom configurations.</p>
                </div>
                
                <div class="step">
                    <strong>2. Compatibility:</strong>
                    <p>Works with every version of Bannerlord/Warsails. It explores AI possibilities and prompt engineering techniques.</p>
                </div>
                
                <div class="step">
                    <strong>3. Initial Setup:</strong>
                    <p>Go to MCM settings in-game:</p>
                    <ol>
                        <li>Set maximum AI response to 1000 characters</li>
                        <li>Set minimum AI response to 300 characters</li>
                    </ol>
                </div>
                
                <div class="step">
                    <strong>4. Edit world.txt File:</strong>
                    <p>Add the following rule to your world.txt file:</p>
                    <div class="code-block">
DUAL-CONVERSATION FORMAT (universal roleplay rule)
Whenever the player explicitly asks an NPC to speak for two (or more) named characters in the same scene ("RP both {Character} and {Character}", "let Elga and Sidunric talk", etc.), that NPC must format the reply exactly like this:

CharacterOne: action/description in asterisks Spoken line or inner thought.

CharacterTwo: action/description in asterisks Spoken line or inner thought.

CharacterThree: action/description in asterisks Spoken line or inner thought.

CharacterFour: action/description in asterisks Spoken line or inner thought.

Alternate one block per speaker, never merging them. Keep each character's voice, personality, and physical quirks perfectly intact. Everything said in these replies are to be remembered by each respective character even though the context isn't in their JSON files. Continue the back-and-forth naturally until the conversation pauses or the player interrupts. If one character is silent for a beat, still give them a labeled block to show body language or reaction. Never narrate as the player or break the labeling system.
                    </div>
                </div>
                
                <div class="step">
                    <strong>5. Gathering NPCs & Conversation:</strong>
                    <p>Gather NPCs in the same place (ideal for meetings). When speaking to the main NPC (settlement owner/meeting organizer), end your statement with:</p>
                    <div class="code-block">
*RP all four characters in the same reply using Hecard:, Servic:, Richelda:, Servic: labels so we can follow their back-and-forth easily.*
                    </div>
                    <p class="warning">‚ö†Ô∏è <strong>Important:</strong> Always name each NPC involved to maintain consistency.</p>
                </div>
                
                <div class="step">
                    <strong>6. Note on Usage:</strong>
                    <p>Generating larger responses to complicated prompts can use more tokens from Player2. Report any bugs encountered while using the dual-conversation rule.</p>
                </div>
            </div>
        </div>
        
        <!-- ChatSync Submod -->
        <div class="section" id="chatsync">
            <h2 class="section-title"><span class="icon">üîÑ</span> ChatSync Submod</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">ü§ù</span> Enhanced Multi-NPC Conversations with ChatSync</h3>
                
                <div class="step">
                    <strong>What is ChatSync?</strong>
                    <p>ChatSync is a submod for AI Influence that synchronizes conversations between selected NPCs. Once synced, characters share the same conversation context, making them aware of what has already been said and eliminating the need to repeat dialogue. This creates a true multi-NPC conversation experience instead of isolated one-on-one interactions.</p>
                    <p><strong>Download:</strong> <a href="https://www.nexusmods.com/mountandblade2bannerlord/mods/9761" target="_blank">ChatSync on Nexus Mods</a></p>
                </div>
                
                <div class="step">
                    <strong>Key Features:</strong>
                    <ul>
                        <li>Select multiple NPCs to sync conversations</li>
                        <li>AutoSync mode to keep dialogue context shared</li>
                        <li>NPC search for quick selection</li>
                        <li>Easy in-game UI with intuitive hotkeys</li>
                        <li>Ideal for companions, advisors, rulers, and role-play focused gameplay</li>
                        <li>Universal path detection for all installation types</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>How to Use ChatSync:</strong>
                    <p><strong>Hotkeys:</strong></p>
                    <ul>
                        <li><strong>F8</strong> ‚Äì Open/close ChatSync menu</li>
                        <li><strong>F9</strong> ‚Äì Toggle AutoSync ON/OFF instantly</li>
                        <li><strong>F10</strong> - Show Diagnostics</li>
                        <li><strong>F11</strong> - Manual Path Setup (if automatic detection fails)</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Installation:</strong>
                    <ol>
                        <li>Download ChatSync from Nexus Mods</li>
                        <li>Place the ChatSync folder in your Bannerlord Modules folder</li>
                        <li>Ensure it loads after AI Influence in your load order</li>
                        <li>Launch game and use F8 to open the ChatSync menu</li>
                    </ol>
                </div>
                
                <div class="step">
                    <strong>Smart Path Detection:</strong>
                    <p>ChatSync automatically searches for AI Influence in ALL possible locations:</p>
                    <ul>
                        <li>Steam Workshop installations (all drives and library folders)</li>
                        <li>Different mod managers (Vortex, ModOrganizer2, manual installs)</li>
                        <li>Custom installation paths on any drive (C:, D:, E:, etc.)</li>
                        <li>Standard Bannerlord directories</li>
                        <li>Windows user folders (Documents, AppData)</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Troubleshooting:</strong>
                    <p>If you encounter "NPC not found" issues:</p>
                    <ol>
                        <li>Press F10 to see diagnostics</li>
                        <li>Check if AI Influence mod is found</li>
                        <li>Press F11 to manually set the path if needed</li>
                        <li>Enter the full path to your AI Influence save_data folder</li>
                    </ol>
                </div>
                
                <div class="success">
                    <p><strong>‚úÖ Tip:</strong> ChatSync greatly enhances immersion by allowing NPCs to have shared memory and context, making group conversations feel natural and dynamic!</p>
                </div>
            </div>
        </div>
        
        <!-- Text-to-Speech Guide -->
        <div class="section" id="tts-guide">
            <h2 class="section-title"><span class="icon">üîä</span> Text-to-Speech (TTS) Guide</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üéôÔ∏è</span> Player2 TTS System</h3>
                
                <div class="step">
                    <strong>What TTS Does:</strong>
                    <p>Player2's TTS system generates natural-sounding AI voices for every NPC in Bannerlord, replacing limited single-line voice acting with fully voiced dynamic conversations.</p>
                </div>
                
                <div class="step">
                    <strong>Enabling TTS:</strong>
                    <ol>
                        <li><strong>Step 1:</strong> Open Player2 and ensure the top-right corner slider is ON</li>
                        <li><strong>Step 2:</strong> In Bannerlord ‚Üí Mod Options ‚Üí AI Influence ‚Üí Scroll to Player2 Settings</li>
                        <li><strong>Step 3:</strong> TTS is now enabled</li>
                    </ol>
                </div>
                
                <div class="step">
                    <strong>TTS Voice Assignment:</strong>
                    <div class="code-block">
MALE VOICES:
01955d76-ed5b-74ba-89e5-2b4b45e632cd - Benjamin (en_US)
01955d76-ed5b-74de-83e5-800a44fee0d1 - Caleb (en_US)
01955d76-ed5b-7566-9c0e-bce4d88ceba0 - Charles (en_US)
01955d76-ed5b-748c-8d98-0fb708ef0fbd - Ethan (en_US)
01955d76-ed5b-754f-a070-a570ddfed516 - Harry (en_US)
01955d76-ed5b-74d2-a33c-b2b8e998658f - Jackson (en_US)
01955d76-ed5b-74af-a2be-9302077075b8 - Logan (en_US)
01955d76-ed5b-74c6-ac15-ab68ee19d560 - Lucas (en_US)
01955d76-ed5b-74a3-9129-c3253d01f690 - Mason (en_US)
01955d76-ed5b-74e9-9fea-1f8cad1cd9c5 - Nicholas (en_US)
01955d76-ed5b-7497-9f8e-0e7448515bf3 - Noah (en_US)
01955d76-ed5b-753f-9f74-c0674216f0f5 - Oliver (en_US)
01955d76-ed5b-755b-9b43-890d73586908 - William (en_US)

FEMALE VOICES:
01955d76-ed5b-7468-83a7-bfc267cf4849 - Abigail (en_US)
01955d76-ed5b-7441-a184-5f5ee015e4fe - Amelia (en_US)
01955d76-ed5b-7534-b7a6-028adcfb4e7d - Amelia (en_US)
01955d76-ed5b-7436-a182-c4d21aaca9fc - Ava (en_US)
01955d76-ed5b-7451-92d6-5ef579d3ed28 - Charlotte (en_US)
01955d76-ed5b-7480-951c-af1dd9873e34 - Chloe (en_US)
01955d76-ed5b-74f9-b54a-2d051890468d - Eleanor (en_US)
01955d76-ed5b-745d-add1-b755d440192d - Evelyn (en_US)
01955d76-ed5b-7528-86ee-3348a642af7e - Florence (en_US)
01955d76-ed5b-7407-a03c-cdd993439ba4 - Madison (en_US)
01955d76-ed5b-7474-86b2-a41b310c2a2d - Mia (en_US)
01955d76-ed5b-7426-8748-4b0e5aea1974 - Olivia (en_US)
01955d76-ed5b-751c-b341-0ee85dbefd92 - Poppy (en_US)
01955d76-ed5b-73e0-a88d-cbeb3c5b499d - Sophia (en_US)
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">‚ùì NPCs speaking wrong language/gender?</div>
                    <div class="faq-answer">
                        <p><strong>Answer:</strong> When the game starts, random Voice IDs are assigned. Sometimes wrong gender voices or languages are assigned. This is a Player2 generation code issue that the developer is investigating.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">‚ùì How to assign favorite voice to NPC?</div>
                    <div class="faq-answer">
                        <p><strong>Answer:</strong> Find the NPC's "AssignedTTSVoice" in their .json file, copy the ID, and paste it into another NPC's file (same gender).</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Rollback AI Actions -->
        <div class="section" id="rollback-ai">
            <h2 class="section-title"><span class="icon">‚è™</span> Rollback AI Actions</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üîÑ</span> Step-by-Step Rollback Guide</h3>
                
                <div class="step">
                    <strong>Scenario:</strong>
                    <p>AI does something undesirable (e.g., Raganvad spamming war declarations on his own faction).</p>
                </div>
                
                <div class="step">
                    <strong>Step 1: Preparation</strong>
                    <p>Have a save from before the problematic events. If not, proceed cautiously.</p>
                </div>
                
                <div class="step">
                    <strong>Step 2: Locate Mod Files</strong>
                    <p>Navigate to mod installation folder (Nexus manual download recommended):</p>
                    <div class="code-block">
Steam Path: Drive:\PathToSteamInstall\workshop\content\261550\3584621421
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 3: Find Character JSON</strong>
                    <p>Use the JSON editing tutorial to find the specific character file.</p>
                    <div class="warning">
                        <strong>Warning:</strong> Multiple results may appear if you have multiple campaigns.
                    </div>
                </div>
                
                <div class="step">
                    <strong>Step 4: Edit JSON Sections</strong>
                    <p>Look for these sections in the JSON file:</p>
                    <ul>
                        <li>"ConversationHistory"</li>
                        <li>"LastDynamicResponse"</li>
                        <li>"LastAIResponseJson"</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Step 5: Clean ConversationHistory</strong>
                    <p>Delete problematic sections from ConversationHistory. Leave it formatted with their last reply.</p>
                </div>
                
                <div class="step">
                    <strong>Step 6: Update LastDynamicResponse</strong>
                    <p>Copy the last line from ConversationHistory (without quotation marks or character name) and paste into "LastDynamicResponse" inside quotation marks.</p>
                </div>
                
                <div class="step">
                    <strong>Step 7: Update LastAIResponseJSON</strong>
                    <p>Repeat for "LastAIResponseJSON" - paste in correct spot inside quotes.</p>
                </div>
                
                <div class="step">
                    <strong>Step 8: Save & Reload</strong>
                    <p>Save the JSON file and reload your previous save game.</p>
                </div>
            </div>
        </div>
        
        <!-- JSON Editing Guide -->
        <div class="section" id="json-editing">
            <h2 class="section-title"><span class="icon">üìù</span> Editing NPC .JSON Files</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üîß</span> Finding and Editing NPC Characteristics</h3>
                
                <div class="step">
                    <strong>1. What You Can Edit:</strong>
                    <ul>
                        <li>"AIGeneratedBackstory" - NPC's AI-generated history</li>
                        <li>"AIGeneratedPersonality" - NPC's personality traits</li>
                        <li>NPC quirks and additional information</li>
                    </ul>
                    <div class="warning">
                        <strong>‚ö†Ô∏è Always backup JSON files before editing. Only edit when game is NOT launched to avoid bugs/freezes.</strong>
                    </div>
                </div>
                
                <div class="step">
                    <strong>2. Finding JSON Files:</strong>
                    <ol>
                        <li>Open AI Influence folder</li>
                        <li>Use search bar to find specific NPC (e.g., "Baroness Kalatylda (lord_4_6)")</li>
                        <li>Multiple JSON files may appear (from different saves)</li>
                        <li>Open the newest file with Notepad</li>
                    </ol>
                </div>
                
                <div class="step">
                    <strong>3. Key Information Sections:</strong>
                    <ul>
                        <li>‚úÖ NPC Quirks</li>
                        <li>‚úÖ Personality</li>
                        <li>‚úÖ Backstory</li>
                        <li>‚úÖ Last Dynamic Response</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>4. Creating Custom Companions:</strong>
                    <p><strong>Quick Method:</strong></p>
                    <ol>
                        <li>Recruit wanderer from inn using vanilla features</li>
                        <li>Initialize them via AI (even with minimal input)</li>
                        <li>Save game and exit Bannerlord</li>
                        <li>Search for companion's JSON file</li>
                        <li>Edit desired characteristics</li>
                        <li>Boot game and talk to companion referencing your edits</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <!-- Diplomacy System -->
        <div class="section" id="diplomacy">
            <h2 class="section-title"><span class="icon">üëë</span> Diplomacy System Guide</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">‚öîÔ∏è</span> How AI Diplomacy Works</h3>
                
                <div class="step">
                    <strong>AI-Driven Diplomacy:</strong>
                    <ul>
                        <li>‚Ä¢ AI creates and reacts to world events</li>
                        <li>‚Ä¢ AI leaders make public statements</li>
                        <li>‚Ä¢ AI can declare war or propose peace</li>
                        <li>‚Ä¢ AI can form or break alliances</li>
                    </ul>
                    <p>Statements affect relationships between kingdoms.</p>
                    <div class="warning">
                        <strong>‚ö†Ô∏è System is still in active development. Unexpected behavior may occur during BETA testing.</strong>
                    </div>
                </div>
                
                <div class="step">
                    <strong>Player Political Influence:</strong>
                    <p>If you are a KING/QUEEN:</p>
                    <ul>
                        <li>‚Ä¢ Make diplomatic statements through your governor</li>
                        <li>‚Ä¢ Declare war publicly</li>
                        <li>‚Ä¢ Offer or reject peace</li>
                        <li>‚Ä¢ Form or break alliances</li>
                    </ul>
                    <p>Statements appear in BLUE on the campaign map üåê</p>
                    <p><em>AI will evaluate your actions ‚Äî not just accept them.</em></p>
                </div>
            </div>
            
            <div class="tutorial-card">
                <h3><span class="icon">‚ö†Ô∏è</span> Known Limitations (BETA)</h3>
                
                <div class="step">
                    <strong>NPC Initialization:</strong>
                    <p>Only NPCs you have talked to are fully driven by AI. Others do not know recent events until first interaction.</p>
                </div>
                
                <div class="step">
                    <strong>Performance Constraint:</strong>
                    <p>Too many initialized AI NPCs will cause lag or freezes. Recommended active limit: around 100 NPCs.</p>
                </div>
                
                <div class="step">
                    <strong>Diplomacy System (BETA):</strong>
                    <p>The system is still being rewritten ‚Äî bugs and unexpected behavior are possible. Developer actively updates based on community feedback.</p>
                </div>
            </div>
        </div>
        
        <!-- NPC Action System & Rules -->
        <div class="section" id="action-rules">
            <h2 class="section-title"><span class="icon">‚öîÔ∏è</span> NPC Action System & Rules</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üìã</span> NPC ACTION SYSTEM - REFERENCE GUIDE</h3>
                
                <div class="step">
                    <strong>What is the Action System</strong>
                    <p>NPCs in AIInfluence can perform various actions: travel across the map, follow the player, attack enemies, besiege settlements, etc.</p>
                    <p><strong>Multi-tasking actions:</strong> An NPC can perform multiple actions in sequence in one chain. For example, a player can ask an NPC to "visit city A, then city B, attack bandits and return" - and the NPC will complete all these tasks sequentially. Actions are combined with commas, creating a chain of tasks.</p>
                    <p>The actionrules.txt file allows you to add additional instructions for the AI that will be automatically added to the prompt in the "ADDITIONAL RULES FOR ACTIONS" section. This helps adjust AI behavior if it incorrectly uses actions or does something differently than you need.</p>
                </div>
                
                <div class="step">
                    <strong>All Available NPC Actions</strong>
                    
                    <h4>2.1. Movement & Basic Actions</h4>
                    <ul>
                        <li><strong>follow_player</strong> - NPC follows the player, accompanies them</li>
                        <li><strong>go_to_settlement</strong> - NPC travels to the specified settlement (city, castle, village)</li>
                        <li><strong>return_to_player</strong> - NPC returns to the player after completing a task</li>
                        <li><strong>attack_party</strong> - NPC attacks the specified party (bandits, deserters, enemies)</li>
                        <li><strong>patrol_settlement</strong> - NPC patrols around the specified settlement</li>
                        <li><strong>wait_near_settlement</strong> - NPC waits near a settlement without entering it</li>
                        <li><strong>siege_settlement</strong> - NPC besieges the specified city or castle</li>
                        <li><strong>raid_village</strong> - NPC raids the specified enemy village</li>
                        <li><strong>create_party</strong> - NPC creates their own party (leaves the player's party)</li>
                    </ul>
                    
                    <h4>2.10. Multi-tasking actions (chains)</h4>
                    <p><strong>What it does:</strong> NPC can perform multiple actions in sequence in one chain</p>
                    <p><strong>Examples of chains:</strong></p>
                    <div class="code-block">
- Visit multiple settlements: "go to city A, then to city B, then return"
- Complete a task and return: "attack bandits and return to me"
- Combined tasks: "visit a city, then patrol it, then return"
                    </div>
                    <p>NPCs can combine actions with commas, creating a sequence of tasks that will be completed one after another.</p>
                </div>
                
                <div class="step">
                    <strong>Dialogue Actions (decision)</strong>
                    <ul>
                        <li><strong>attack</strong> - NPC decides to attack the player</li>
                        <li><strong>surrender</strong> - NPC surrenders to the player</li>
                        <li><strong>accept_surrender</strong> - NPC accepts the player's surrender as a prisoner</li>
                        <li><strong>release</strong> - NPC releases the player peacefully (does not attack)</li>
                        <li><strong>propose_marriage</strong> - NPC proposes marriage to the player</li>
                        <li><strong>accept_marriage</strong> - NPC accepts the player's marriage proposal</li>
                        <li><strong>reject_marriage</strong> - NPC rejects a marriage proposal</li>
                        <li><strong>intimate</strong> - Intimate interaction with NPCs</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Financial Actions</strong>
                    <ul>
                        <li><strong>money_transfer</strong> - Money transfer between NPC and player</li>
                    </ul>
                    <p><strong>Important:</strong> Used only when the NPC AGREES to transfer money, not for offers or refusals.</p>
                </div>
                
                <div class="step">
                    <strong>Workshop Actions</strong>
                    <ul>
                        <li><strong>workshop_action (sell)</strong> - NPC sells their workshop to the player</li>
                    </ul>
                    <p><strong>Important:</strong> Used only after final price agreement, not during negotiations.</p>
                </div>
                
                <div class="step">
                    <strong>Diplomatic Actions (kingdom_action)</strong>
                    <p>Available only to kingdom rulers and vassals in certain situations:</p>
                    <ul>
                        <li><strong>declare_war</strong> - Declaration of war on another kingdom</li>
                        <li><strong>propose_peace / accept_peace / reject_peace</strong> - Peace proposal, acceptance or rejection</li>
                        <li><strong>propose_alliance / accept_alliance / reject_alliance / break_alliance</strong> - Alliance operations</li>
                        <li><strong>propose_trade_agreement / accept_trade_agreement / reject_trade_agreement / end_trade_agreement</strong> - Trade agreements</li>
                        <li><strong>demand_territory / transfer_territory</strong> - Demand or transfer of territory</li>
                        <li><strong>demand_tribute / accept_tribute / reject_tribute</strong> - Tribute operations</li>
                        <li><strong>demand_reparations / accept_reparations / reject_reparations</strong> - Reparations operations</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>Recruitment Actions (kingdom_action)</strong>
                    <ul>
                        <li><strong>hire_mercenary</strong> - Hiring the player as a mercenary</li>
                        <li><strong>dismiss_mercenary</strong> - Dismissal of the player from mercenaries</li>
                        <li><strong>offer_vassalage</strong> - Offer to the player to become a vassal</li>
                        <li><strong>dismiss_vassal</strong> - Release of the player from vassalage</li>
                        <li><strong>join_player_clan</strong> - NPC joins the player's clan as a companion</li>
                        <li><strong>join_player_kingdom</strong> - NPC's clan joins the player's kingdom</li>
                        <li><strong>hire_mercenary_clan</strong> - NPC's clan accepts the player's offer to hire them as mercenaries</li>
                        <li><strong>kick_from_clan</strong> - NPC accepts the player's decision to dismiss them from the clan</li>
                        <li><strong>dismiss_npc_mercenary</strong> - NPC's clan accepts the player's decision to dismiss them from mercenaries</li>
                        <li><strong>release_npc_vassal</strong> - NPC's clan accepts the player's decision to release them from vassalage</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>How to Add Custom Rules to actionrules.txt</strong>
                    
                    <h4>Creating the file:</h4>
                    <ol>
                        <li>Find the AIInfluence mod folder (usually in `Modules/AIInfluence/`)</li>
                        <li>Create a text file named `actionrules.txt` in the root of the mod folder</li>
                        <li>Add your rules to this file (in English)</li>
                    </ol>
                    
                    <h4>Rule format:</h4>
                    <p>Rules are written in English in free form. They will be automatically added to the "ADDITIONAL RULES FOR ACTIONS" section of the AI prompt.</p>
                    <p>Rules should be written as instructions for the AI, explaining:</p>
                    <ul>
                        <li>When to use or NOT use certain actions</li>
                        <li>What checks to perform before using actions</li>
                        <li>How to consider NPC personality when making decisions</li>
                        <li>Additional restrictions or conditions</li>
                    </ul>
                    
                    <h4>Rule writing style:</h4>
                    <ul>
                        <li>Use imperative form ("NPC should...", "Always verify...", "Never use...")</li>
                        <li>Be specific and clear</li>
                        <li>Specify specific actions and conditions</li>
                        <li>Can reference NPC personality ("Consider personality when...")</li>
                        <li>Can add example situations</li>
                    </ul>
                    
                    <div class="code-block">
Good rule examples:
- NPC should always verify settlement information is provided in the prompt before using go_to_settlement action. If settlement details are missing, NPC should say "I don't know which settlement you mean" and NOT use the action.
- NPC with high honor trait should refuse to raid friendly or neutral villages, even if player orders it. They should explain their refusal based on their principles.
- NPC should never attack settlements that belong to their own kingdom or allied kingdoms, even if player suggests it.
                    </div>
                    
                    <div class="warning">
                        <strong>Bad rule examples (too general):</strong>
                        <ul>
                            <li>NPC should be careful</li>
                            <li>Don't do bad things</li>
                            <li>Think before acting</li>
                        </ul>
                    </div>
                </div>
                
                <div class="step">
                    <strong>Examples of Rules for Different Situations</strong>
                    
                    <h4>Rules for information verification:</h4>
                    <div class="code-block">
- CRITICAL: Before using any action that requires settlement or party information (go_to_settlement, attack_party, patrol_settlement, siege_settlement, raid_village, wait_near_settlement), NPC MUST verify that the necessary information is provided in the prompt. If information is missing or unknown, NPC should stay in character, express uncertainty, and NOT use the action.
- NPC should never guess or invent information. Only use actions when the necessary details are clearly available in the prompt.
                    </div>
                    
                    <h4>Rules for considering NPC personality:</h4>
                    <div class="code-block">
- NPC with high honor trait should refuse to raid villages unless they are clearly enemy villages. They should explain their refusal based on honor and principles.
- NPC with cruel trait is more likely to agree to raid villages, but should still verify the target is an enemy.
- NPC with calculating trait should consider the strategic value and risks before agreeing to siege_settlement or attack_party actions.
                    </div>
                    
                    <h4>Rules for preventing errors:</h4>
                    <div class="code-block">
- NPC should NEVER use attack_party, siege_settlement, or raid_village actions against targets that belong to their own kingdom, allied kingdoms, or friendly factions. Always check the faction relationship before using combat actions.
- NPC should verify the target settlement's faction status before using siege_settlement. If the settlement belongs to an ally or neutral faction, NPC should refuse and explain why.
                    </div>
                </div>
                
                <div class="step">
                    <strong>Frequently Asked Questions</strong>
                    
                    <div class="faq-item">
                        <div class="faq-question">‚ùì Where is the actionrules.txt file located?</div>
                        <div class="faq-answer">
                            <p><strong>Answer:</strong> In the root of the AIInfluence mod folder (usually `Modules/AIInfluence/actionrules.txt`)</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">‚ùì Do I need to restart the game after changing actionrules.txt?</div>
                        <div class="faq-answer">
                            <p><strong>Answer:</strong> No, the file is automatically re-read on each dialogue. Just save the file.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">‚ùì How many rules can I add?</div>
                        <div class="faq-answer">
                            <p><strong>Answer:</strong> There are no limits, but try not to make the file too large (recommended up to 100-200 lines).</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">‚ùì Do rules work for all NPCs?</div>
                        <div class="faq-answer">
                            <p><strong>Answer:</strong> Yes, rules apply to all NPCs in the game.</p>
                        </div>
                    </div>
                </div>
                
                <div class="step">
                    <strong>Conclusion</strong>
                    <p>The actionrules.txt file is a powerful tool for configuring AI behavior when using actions. By adding custom rules, you can:</p>
                    <ul>
                        <li>Fix problems with incorrect action usage</li>
                        <li>Add additional checks and restrictions</li>
                        <li>Improve consideration of NPC personality when making decisions</li>
                        <li>Customize AI behavior to your preferences</li>
                    </ul>
                    <div class="warning">
                        <strong>Remember:</strong>
                        <ul>
                            <li>Rules must be in English</li>
                            <li>Be specific and clear</li>
                            <li>Test rules in the game</li>
                            <li>Don't be afraid to experiment and adjust rules</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Technical Guide & File Structure -->
        <div class="section" id="technical-guide">
            <h2 class="section-title"><span class="icon">üîß</span> Technical Guide & File Structure</h2>
            
            <div class="tutorial-card">
                <h3><span class="icon">üìÅ</span> AI Influence ‚Äî Technical Guide</h3>
                
                <div class="step">
                    <strong>File Structure</strong>
                    <div class="code-block">
AIInfluence DEV/
‚îú‚îÄ‚îÄ world.txt                        # World description for the AI
‚îú‚îÄ‚îÄ world_secrets.json               # NPC secrets
‚îú‚îÄ‚îÄ world_info.json                  # General information
‚îú‚îÄ‚îÄ cultural_traditions.json         # Romantic traditions
‚îÇ
‚îú‚îÄ‚îÄ save_data/                       # Save data
‚îÇ   ‚îî‚îÄ‚îÄ [CAMPAIGN_ID]/               # Campaign folder
‚îÇ       ‚îú‚îÄ‚îÄ NPC (id).json            # Context for each NPC
‚îÇ       ‚îú‚îÄ‚îÄ dynamic_events.json      # Active dynamic events
‚îÇ       ‚îú‚îÄ‚îÄ diplomatic_statements.json   # Rulers' statements
‚îÇ       ‚îú‚îÄ‚îÄ alliances.json           # Kingdom alliances
‚îÇ       ‚îú‚îÄ‚îÄ war_statistics.json      # War statistics
‚îÇ       ‚îú‚îÄ‚îÄ diplomatic_events.json   # Active diplomatic events
‚îÇ       ‚îú‚îÄ‚îÄ pending_player_statements.json # Pending player statements
‚îÇ       ‚îú‚îÄ‚îÄ trade_agreements.json    # Trade agreements
‚îÇ       ‚îú‚îÄ‚îÄ territory_transfers.json # Territory transfer history
‚îÇ       ‚îú‚îÄ‚îÄ tributes.json            # Tribute agreements
‚îÇ       ‚îî‚îÄ‚îÄ reparations.json         # Reparations between kingdoms
‚îÇ
‚îî‚îÄ‚îÄ logs/                            # Logs
    ‚îú‚îÄ‚îÄ mod_log.txt
    ‚îú‚îÄ‚îÄ diplomacy.txt
    ‚îî‚îÄ‚îÄ dynamicEvents.log
                    </div>
                </div>
                
                <div class="step">
                    <strong>üåç world.txt</strong>
                    <p><strong>What:</strong> Calradia world description for the AI.</p>
                    <p><strong>Why:</strong> The AI reads it on every dialogue for context.</p>
                    <p><strong>How to edit:</strong></p>
                    <ul>
                        <li>Add your lore in the section "Additional Information About Calradia:"</li>
                        <li>Use `{Character}` and `{Player}` instead of specific names</li>
                        <li>Write in English</li>
                        <li>Save ‚Üí the file will be hot‚Äëreloaded automatically</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>üîê world_secrets.json</strong>
                    <p><strong>What:</strong> Secret knowledge that NPCs may know.</p>
                    
                    <p><strong>Format:</strong></p>
                    <div class="code-block">
[
  {
    "id": "unique_id",
    "description": "Description for the AI",
    "knowledgeChance": 50,
    "applicableNPCs": ["lords"],
    "accessLevel": "high",
    "tags": ["optional"]
  }
]
                    </div>
                    
                    <p><strong>How it works:</strong></p>
                    <ol>
                        <li>On first interaction, a 0‚Äì100 roll is made</li>
                        <li>If ‚â§ `knowledgeChance` ‚Üí the NPC learns the secret</li>
                        <li>The secret is added to the prompt: `"Secrets: ... (access: high)"`</li>
                        <li>The AI decides whether to reveal it (depends on trust)</li>
                    </ol>
                    
                    <div class="warning">
                        <strong>Important:</strong> Use `knowledgeChance`, NOT `usageChance`!
                    </div>
                    
                    <p><strong>Fields:</strong></p>
                    <ul>
                        <li>`id` ‚Äî unique name</li>
                        <li>`description` ‚Äî full text (passed into the AI prompt)</li>
                        <li>`knowledgeChance` ‚Äî 0‚Äì100 chance that the NPC learns it on first contact</li>
                        <li>`applicableNPCs` ‚Äî types: `all`, `lords`, `companions`, `faction_leaders`, `village_notables`, `merchants`</li>
                        <li>`accessLevel` ‚Äî `low`, `medium`, `high` (shown in the prompt)</li>
                        <li>`tags` ‚Äî for organization (does not affect logic)</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>üì∞ world_info.json</strong>
                    <p><strong>What:</strong> Public, non‚Äësecret information.</p>
                    
                    <p><strong>Format:</strong></p>
                    <div class="code-block">
[
  {
    "id": "unique_id",
    "description": "Description (you can use {character})",
    "usageChance": 75,
    "applicableNPCs": ["all"],
    "category": "world"
  }
]
                    </div>
                    
                    <p><strong>Fields:</strong></p>
                    <ul>
                        <li>`usageChance` ‚Äî 0‚Äì100 chance (works like knowledgeChance)</li>
                        <li>`applicableNPCs` ‚Äî types: `all`, `lords`, `companions`, `faction_leaders`, `village_notables`, `merchants`</li>
                        <li>`category` ‚Äî `world` (persistent), `event` (temporary), `personal` (personal)</li>
                    </ul>
                    
                    <p><strong>Differences from secrets:</strong></p>
                    <ul>
                        <li>Field: `usageChance` vs `knowledgeChance`</li>
                        <li>Classification: `category` vs `accessLevel`</li>
                        <li>In the prompt: "General Info: ..." vs "Secrets: ... (access: high)"</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>üíï cultural_traditions.json</strong>
                    <p><strong>What:</strong> Romantic traditions per culture.</p>
                    
                    <p><strong>Format:</strong></p>
                    <div class="code-block">
{
  "Aserai": "Description of romantic traditions...",
  "Battania": "..."
}
                    </div>
                    
                    <p><strong>Affects:</strong> Flirt style and relationship requirements.</p>
                </div>
                
                <div class="step">
                    <strong>üíæ NPC Files: save_data/[CAMPAIGN_ID]/Name (id).json</strong>
                    
                    <p><strong>Main fields:</strong></p>
                    <table style="width:100%; border-collapse: collapse; margin: 15px 0; color: #E8D8B6;">
                        <thead>
                            <tr>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">Field</th>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">What it does</th>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">Can edit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">CharacterDescription</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Personality description</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">‚úÖ YES</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">KnownSecrets</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Known secrets</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">‚úÖ YES (sets a flag)</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">KnownInfo</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Known information</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">‚úÖ YES (sets a flag)</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">ConversationHistory</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Dialogue history</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">‚ùå Automatic</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">DynamicEvents</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Known events</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">‚ùå Automatic</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <p>You can also see service fields:</p>
                    <ul>
                        <li>`KnownSecretsUserEdited` / `KnownInfoUserEdited` ‚Äî flags that knowledge was edited by the user (if `true`, the system will no longer change these arrays)</li>
                        <li>`DynamicEvents` / `LastEventAnalysisMessageIndex` ‚Äî which dynamic events the NPC knows and which messages were already sent for analysis</li>
                        <li>`AIGeneratedPersonality` / `AIGeneratedBackstory` ‚Äî auto‚Äëgenerated personality and backstory description</li>
                        <li>Romance fields (`RomanceLevel`, `LastRomanceInteractionDays`, `IsRomanceEligible`) and battle fields (`SettlementCombatInfo`) ‚Äî managed only by the system</li>
                    </ul>
                    
                    <div class="warning">
                        <strong>Recommendation:</strong> if you do not fully understand a service field, do not edit it ‚Äî you may break the system.
                    </div>
                </div>
                
                <div class="step">
                    <strong>Editing Knowledge</strong>
                    <p>After changing `KnownSecrets` or `KnownInfo`:</p>
                    <div class="code-block">
"KnownSecrets": ["My_Custom_Secret"],
"KnownSecretsUserEdited": false  // ‚Üê Will automatically become true
                    </div>
                    <p>The `UserEdited: true` flag ‚Üí the system will not touch this field.</p>
                    <p><strong>Resetting flags:</strong> MCM ‚Üí NPC Management ‚Üí Reset User‚ÄëEdited Knowledge</p>
                </div>
                
                <div class="step">
                    <strong>üìã dynamic_events.json</strong>
                    <p><strong>What:</strong> Active world events.</p>
                    
                    <p><strong>Important fields:</strong></p>
                    <ul>
                        <li>`type` ‚Äî `military`, `political`, `economic`, `social`, `mysterious`</li>
                        <li>`importance` ‚Äî 1‚Äì10 (how important)</li>
                        <li>`kingdoms_involved` ‚Äî array of kingdom `string_id`</li>
                        <li>`allows_diplomatic_response` ‚Äî whether rulers can make statements</li>
                        <li>`expiration_campaign_days` ‚Äî when it expires</li>
                    </ul>
                    
                    <p>Additionally, events have:</p>
                    <ul>
                        <li>`id` ‚Äî unique event identifier (string, NPCs store knowledge about it in `DynamicEvents`)</li>
                        <li>`player_involved` ‚Äî whether the player participated</li>
                        <li>`spread_speed` ‚Äî how fast it spreads</li>
                    </ul>
                    
                    <p><strong>NPC link:</strong> The list of NPCs who know about an event is stored in each `NPC (id).json` in the `DynamicEvents` array. `DynamicEventsManager` automatically updates these fields and removes expired events from NPCs.</p>
                    
                    <div class="warning">
                        <strong>Editing:</strong> Not recommended (managed automatically).
                    </div>
                </div>
                
                <div class="step">
                    <strong>üí¨ diplomatic_statements.json</strong>
                    <p><strong>What:</strong> Kingdom rulers' statements.</p>
                    
                    <p><strong>Structure:</strong></p>
                    <div class="code-block">
{
  "kingdom_id": "battania",
  "statement_text": "Statement text",
  "action": "None/DeclareWar/ProposePeace/...",
  "target_kingdom_id": "khuzait",
  "reason": "Reason",
  "event_id": "event this statement refers to"
}
                    </div>
                    
                    <p><strong>Storage:</strong> Last 15 statements over 50 in‚Äëgame days.</p>
                    <p><strong>Editing:</strong> Not needed (automatic system).</p>
                </div>
                
                <div class="step">
                    <strong>Additional Diplomacy Files</strong>
                    <p>All files below are in `save_data/[CAMPAIGN_ID]/` and are managed automatically by the diplomacy system.</p>
                    
                    <ul>
                        <li>`diplomatic_events.json` ‚Äî active diplomatic events linked to dynamic events (`DynamicEvents`)</li>
                        <li>`pending_player_statements.json` ‚Äî deferred player statements to be published later</li>
                        <li>`trade_agreements.json` ‚Äî current trade agreements between kingdoms</li>
                        <li>`territory_transfers.json` ‚Äî history of fief transfers between kingdoms</li>
                        <li>`tributes.json` ‚Äî tribute payment agreements</li>
                        <li>`reparations.json` ‚Äî reparations data (history and open claims)</li>
                    </ul>
                    
                    <div class="warning">
                        <strong>Rule:</strong> all these files are intended for automatic system operation. Edit only if you clearly understand the consequences (for debugging); always make a backup first.
                    </div>
                </div>
                
                <div class="step">
                    <strong>üìä Logs</strong>
                    
                    <h4>`logs/mod_log.txt` ‚Äî main log</h4>
                    <ul>
                        <li>Mod initialization</li>
                        <li>Config loading</li>
                        <li>AI prompts and responses</li>
                        <li>API errors</li>
                    </ul>
                    <p><strong>Check when:</strong> NPC does not respond, Secrets are not loaded, In‚Äëgame errors occur</p>
                    
                    <h4>`logs/diplomacy.txt` ‚Äî diplomacy</h4>
                    <ul>
                        <li>Diplomacy system initialization</li>
                        <li>Creation of diplomatic situations and statements</li>
                        <li>Analysis of diplomatic events (full prompts and AI responses)</li>
                        <li>Executing actions (wars, peace, alliances, relation changes)</li>
                        <li>Diplomacy system errors and warnings</li>
                    </ul>
                    
                    <h4>`logs/dynamicEvents.log` ‚Äî dynamic events</h4>
                    <ul>
                        <li>Event generation (including full prompt and AI response with detailed debugging on)</li>
                        <li>Event propagation to NPCs (who learned what and why)</li>
                        <li>Deletion of expired events and cleanup of NPC knowledge</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>‚öôÔ∏è Important Rules</strong>
                    
                    <h4>JSON files</h4>
                    <ul>
                        <li>‚úÖ Always validate JSON (jsonlint.com)</li>
                        <li>‚úÖ Make backups before editing</li>
                        <li>‚úÖ Do not delete required fields</li>
                        <li>‚ùå Do not edit `dynamic_events.json` and `diplomatic_statements.json` unless necessary</li>
                    </ul>
                    
                    <h4>Secrets vs Info</h4>
                    <ul>
                        <li>`world_secrets.json` ‚Üí field `knowledgeChance`</li>
                        <li>`world_info.json` ‚Üí field `usageChance`</li>
                        <li><strong>DO NOT CONFUSE THEM!</strong> Otherwise the value will be treated as 0.</li>
                    </ul>
                    
                    <h4>Hot Reload</h4>
                    <p>These files are hot‚Äëreloaded automatically:</p>
                    <ul>
                        <li>‚úÖ `world.txt`</li>
                        <li>‚úÖ `world_secrets.json`</li>
                        <li>‚úÖ `world_info.json`</li>
                        <li>‚úÖ `cultural_traditions.json`</li>
                    </ul>
                    <p>NPC files are reloaded on the next interaction.</p>
                    
                    <h4>Edit Flags</h4>
                    <p>If you edit `KnownSecrets` or `KnownInfo`:</p>
                    <ul>
                        <li>The `UserEdited` flag automatically becomes `true`</li>
                        <li>The system will no longer touch these fields</li>
                        <li>Reset: MCM ‚Üí Reset User‚ÄëEdited Knowledge</li>
                    </ul>
                </div>
                
                <div class="step">
                    <strong>üéØ Key Differences</strong>
                    
                    <table style="width:100%; border-collapse: collapse; margin: 15px 0; color: #E8D8B6;">
                        <thead>
                            <tr>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">Aspect</th>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">Secrets</th>
                                <th style="border: 1px solid #8C5F2C; padding: 8px;">Info</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;"><strong>File</strong></td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`world_secrets.json`</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`world_info.json`</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;"><strong>Chance field</strong></td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`knowledgeChance`</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`usageChance`</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;"><strong>Classification</strong></td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`accessLevel` + `tags`</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">`category`</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;"><strong>Purpose</strong></td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Secrets, require trust</td>
                                <td style="border: 1px solid #8C5F2C; padding: 8px;">Public information</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="step">
                    <strong>üîÑ Workflow</strong>
                    
                    <h4>Adding new content</h4>
                    <ol>
                        <li><strong>Come up with an idea</strong> (secret, event, quest)</li>
                        <li><strong>Add it to JSON</strong> (`world_secrets.json` or `world_info.json`)</li>
                        <li><strong>Save the file</strong> ‚Üí hot‚Äëreload</li>
                        <li><strong>Create new NPCs</strong> or reset existing ones</li>
                        <li><strong>Start a dialogue</strong> ‚Üí the AI will know about the new content</li>
                    </ol>
                    
                    <h4>Testing secrets</h4>
                    <ol>
                        <li>Add a secret with `knowledgeChance: 100`</li>
                        <li>Create a new NPC or reset an existing one</li>
                        <li>Start a dialogue</li>
                        <li>Check the log: `[NPC] Name learned secret: ...`</li>
                        <li>Ask the NPC about the secret directly</li>
                    </ol>
                    
                    <h4>Debugging events</h4>
                    <ol>
                        <li>Enable detailed logging (MCM)</li>
                        <li>Create an event (Force Generate Event)</li>
                        <li>Check `logs/dynamicEvents.log`</li>
                        <li>See who received the event and why</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <footer>
            <h2 style="font-family: 'MedievalSharp', cursive; margin-bottom: 20px; color: #E8D8B6;">Community & Support</h2>
            <p style="margin-bottom: 20px; opacity: 0.9; color: #E8D8B6;">
                AI Influence is continuously developed with community feedback. Join our communities for support, updates, and discussions!
            </p>
            
            <div class="download-links">
                <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3584621421" class="download-btn" target="_blank">Steam Workshop</a>
                <a href="https://www.nexusmods.com/mountandblade2bannerlord/mods/9711" class="download-btn nexus-link" target="_blank">Nexus Mods</a>
                <a href="https://discord.gg/dQMGBuWCQV" class="download-btn discord-link" target="_blank">Discord Community</a>
            </div>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(232, 216, 182, 0.2);">
                <p><strong>Current Version:</strong> 3.3.7 ‚Ä¢ <strong>Last Updated:</strong> January 2026</p>
                <p><strong>Compatibility:</strong> Mount & Blade II: Bannerlord v1.3.9 - 1.3.13</p>
                <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                    This document is community-generated based on official changelogs. Always check official sources for latest information.
                </p>
            </div>
        </footer>
    </div>
    
    <script>
        function changeLanguage(lang) {
            // Simple language switcher
            alert('Language switching functionality would be implemented here');
        }
    </script>
</body>
</html>
